function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function ibg(){if(isIE()){let t=document.querySelectorAll("._ibg");for(var e=0;e<t.length;e++)t[e].querySelector("img")&&null!=t[e].querySelector("img").getAttribute("src")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("body").classList.add("ie"),isMobile.any()&&document.querySelector("body").classList.add("_touch"),ibg(),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("_loaded");let unlock=!0;if(location.hash){const e=location.hash.replace("#","");document.querySelector(".popup_"+e)?popup_open(e):document.querySelector("div."+e)&&_goto(document.querySelector("."+e),500,"")}let iconMenu=document.querySelector(".icon-menu");if(null!=iconMenu){let e=500,t=document.querySelector(".menu__body");iconMenu.addEventListener("click",(function(o){unlock&&(body_lock(e),iconMenu.classList.toggle("_active"),t.classList.toggle("_active"))}))}function menu_close(){let e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__body");e.classList.remove("_active"),t.classList.remove("_active")}function body_lock(e){document.querySelector("body").classList.contains("_lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e){let t=document.querySelector("body");if(unlock){let o=document.querySelectorAll("._lp");setTimeout(()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")},e),unlock=!1,setTimeout((function(){unlock=!0}),e)}}function body_lock_add(e){let t=document.querySelector("body");if(unlock){let o=document.querySelectorAll("._lp");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),e)}}let title=document.querySelectorAll("._letter-animation");if(title)for(let e=0;e<title.length;e++){let t=title[e],o=t.innerHTML.replace("  "," ").split(" "),l="";for(let e=0;e<o.length;e++){let n=o[e],r=n.length;l+="<p>";for(let e=0;e<r;e++){let t=n.substr(e,1);" "==t&&(t="&nbsp;"),l=l+"<span>"+t+"</span>"}t.innerHTML=l,l+="&nbsp;</p>"}}let tabs=document.querySelectorAll("._tabs");for(let e=0;e<tabs.length;e++){let t=tabs[e],o=t.querySelectorAll("._tabs-item"),l=t.querySelectorAll("._tabs-block");for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",(function(n){for(let e=0;e<o.length;e++){o[e].classList.remove("_active"),l[e].classList.remove("_active")}t.classList.add("_active"),l[e].classList.add("_active"),n.preventDefault()}))}}let spollers=document.querySelectorAll("._spoller");if(spollers.length>0)for(let e=0;e<spollers.length;e++){const t=spollers[e];t.addEventListener("click",(function(e){if(t.classList.contains("_spoller-992")&&window.innerWidth>992)return!1;if(t.classList.contains("_spoller-768")&&window.innerWidth>768)return!1;if(t.closest("._spollers").classList.contains("_one")){let e=t.closest("._spollers").querySelectorAll("._spoller");for(let o=0;o<e.length;o++){let l=e[o];l!=t&&(l.classList.remove("_active"),_slideUp(l.nextElementSibling))}}t.classList.toggle("_active"),_slideToggle(t.nextElementSibling)}))}let gallery=document.querySelectorAll("._gallery");function gallery_init(){for(let e=0;e<gallery.length;e++){const t=gallery[e];lightGallery(t,{counter:!1,selector:"a",download:!1})}}function search_in_list(e){let t=e.parentNode.querySelector("ul").querySelectorAll("li"),o=e.value.toUpperCase();for(i=0;i<t.length;i++){let e=t[i],l=e;txtValue=l.textContent||l.innerText,txtValue.toUpperCase().indexOf(o)>-1?e.style.display="":e.style.display="none"}}function digi(e){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}function digi_animate(e){if(e.length>0)for(let t=0;t<e.length;t++){const o=e[t],l=parseInt(o.innerHTML.replace(" ",""));o.classList.contains("_done")||digi_animate_value(o,0,l,1500)}}function digi_animate_value(e,t,o,l){var n=e,r=o-t,i=Math.abs(Math.floor(l/r));i=Math.max(i,50);var s,c=(new Date).getTime()+l;function a(){var e=(new Date).getTime(),t=Math.max((c-e)/l,0),i=Math.round(o-t*r);n.innerHTML=digi(i),i==o&&clearInterval(s)}s=setInterval(a,i),a(),e.classList.add("_done")}gallery&&gallery_init();let popup_link=document.querySelectorAll("._popup-link"),popups=document.querySelectorAll(".popup");for(let e=0;e<popup_link.length;e++){const t=popup_link[e];t.addEventListener("click",(function(e){if(unlock){popup_open(t.getAttribute("href").replace("#",""),t.getAttribute("data-video"))}e.preventDefault()}))}for(let e=0;e<popups.length;e++){popups[e].addEventListener("click",(function(e){e.target.closest(".popup__body")||popup_close(e.target.closest(".popup"))}))}function popup_open(e,t=""){document.querySelectorAll(".popup._active").length>0&&popup_close("",!1);let o=document.querySelector(".popup_"+e);if(o&&unlock){if(""!=t&&null!=t){document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||body_lock_add(500),o.classList.add("_active"),history.pushState("","","#"+e)}}function popup_close(e,t=!0){if(unlock){if(e){let t=e.querySelector(".popup__video");t&&(t.innerHTML=""),e.classList.remove("_active");let l=e.querySelector("form");if(l){l.reset();let e=l.querySelectorAll("input");for(let t=0;t<e.length;t++){e[t].classList.remove("error")}}let n=e.querySelectorAll("iframe");if(n)for(let e=0;e<n.length;e++){const t=n[e];if(t){var o=t.src;t.src=o}}}else for(let e=0;e<popups.length;e++){const t=popups[e];let o=t.querySelector(".popup__video");o&&(o.innerHTML=""),t.classList.remove("_active")}!document.querySelector(".menu__body._active")&&t&&body_lock_remove(500),history.pushState("","",window.location.href.split("#")[0])}}let popup_close_icon=document.querySelectorAll(".popup__close,._popup-close");if(popup_close_icon)for(let e=0;e<popup_close_icon.length;e++){const t=popup_close_icon[e];t.addEventListener("click",(function(){popup_close(t.closest(".popup"))}))}document.addEventListener("keydown",(function(e){27==e.which&&popup_close()}));let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let l=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=l+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function _wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}function _removeClasses(e,t){for(var o=0;o<e.length;o++)e[o].classList.remove(t)}function _is_hidden(e){return null===e.offsetParent}function animate({timing:e,draw:t,duration:o}){let l=performance.now();requestAnimationFrame((function n(r){let i=(r-l)/o;i>1&&(i=1);let s=e(i);t(s),i<1&&requestAnimationFrame(n)}))}function makeEaseOut(e){return function(t){return 1-e(1-t)}}function makeEaseInOut(e){return function(t){return t<.5?e(2*t)/2:(2-e(2*(1-t)))/2}}function quad(e){return Math.pow(e,2)}function circ(e){return 1-Math.sin(Math.acos(e))}Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let iconMenuOn=document.querySelector(".header__icon_on"),iconMenuOff=document.querySelector(".header__icon_off");if(null!=iconMenuOn){let e=500,t=document.querySelector(".header__menu");iconMenuOn.addEventListener("click",(function(o){unlock&&(body_lock(e),t.classList.add("_active"))})),iconMenuOff.addEventListener("click",(function(o){unlock&&(body_lock(e),t.classList.remove("_active"))})),$(".header__link").on("click",(function(){isMobile.any()&&unlock&&(body_lock(e),t.classList.remove("_active"))}))}$(".portfolio__hide a").on("click",(function(e){e.preventDefault(),$(this).toggleClass("_active"),$(".portfolio__item_hide").toggleClass("_active"),$(".portfolio__item_hide").toggleClass("fadeOut"),$(".portfolio__item_hide").toggleClass("fadeIn")}));const lightItems=document.querySelectorAll(".portfolio__item");$(".reviews__slider").slick({dots:!0,arrows:!0,infinite:!0,slidesToShow:5,centerMode:!0,swipeToSlide:!0,prevArrow:'<div class="reviews__arrow reviews__arrow_prev"><svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.125 8.49995C18.125 8.8812 17.9735 9.24683 17.704 9.51642C17.4344 9.786 17.0687 9.93745 16.6875 9.93745L5.3025 9.93745L9.07833 13.7133C9.33225 13.9858 9.47049 14.3462 9.46392 14.7186C9.45735 15.091 9.30648 15.4464 9.04311 15.7097C8.77973 15.9731 8.42441 16.124 8.052 16.1305C7.67959 16.1371 7.31917 15.9989 7.04667 15.745L0.817501 9.51578C0.548303 9.24625 0.397098 8.88089 0.397098 8.49995C0.397098 8.11901 0.548303 7.75365 0.817501 7.48412L7.04667 1.25495C7.31917 1.00103 7.67959 0.862793 8.052 0.869364C8.42441 0.875935 8.77973 1.0268 9.04311 1.29017C9.30648 1.55355 9.45735 1.90887 9.46392 2.28128C9.47049 2.65369 9.33225 3.01411 9.07833 3.28662L5.3025 7.06245L16.6875 7.06245C17.0687 7.06245 17.4344 7.2139 17.704 7.48348C17.9735 7.75307 18.125 8.1187 18.125 8.49995Z" fill="black"/></svg></div>',nextArrow:'<div class="reviews__arrow reviews__arrow_next"><svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.875 8.49995C0.875 8.8812 1.02645 9.24683 1.29603 9.51642C1.56562 9.786 1.93125 9.93745 2.3125 9.93745L13.6975 9.93745L9.92167 13.7133C9.66775 13.9858 9.52951 14.3462 9.53608 14.7186C9.54265 15.091 9.69352 15.4464 9.95689 15.7097C10.2203 15.9731 10.5756 16.124 10.948 16.1305C11.3204 16.1371 11.6808 15.9989 11.9533 15.745L18.1825 9.51578C18.4517 9.24625 18.6029 8.88089 18.6029 8.49995C18.6029 8.11901 18.4517 7.75365 18.1825 7.48412L11.9533 1.25495C11.6808 1.00103 11.3204 0.862793 10.948 0.869364C10.5756 0.875935 10.2203 1.0268 9.95689 1.29017C9.69352 1.55355 9.54265 1.90887 9.53608 2.28128C9.52951 2.65369 9.66775 3.01411 9.92167 3.28662L13.6975 7.06245L2.3125 7.06245C1.93125 7.06245 1.56562 7.2139 1.29603 7.48348C1.02645 7.75307 0.875 8.1187 0.875 8.49995Z" fill="black"/></svg></div>',responsive:[{breakpoint:1550,settings:{slidesToShow:3}},{breakpoint:950,settings:{centerMode:!1,slidesToShow:3,variableWidth:!0,arrows:!1}},{breakpoint:700,settings:{centerMode:!1,slidesToShow:3,variableWidth:!0,arrows:!1}}]}),$(".clients__slider").slick({dots:!0,prevArrow:'<div class="clients__arrow clients__arrow_prev"><svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.125 8.49995C18.125 8.8812 17.9735 9.24683 17.704 9.51642C17.4344 9.786 17.0687 9.93745 16.6875 9.93745L5.3025 9.93745L9.07833 13.7133C9.33225 13.9858 9.47049 14.3462 9.46392 14.7186C9.45735 15.091 9.30648 15.4464 9.04311 15.7097C8.77973 15.9731 8.42441 16.124 8.052 16.1305C7.67959 16.1371 7.31917 15.9989 7.04667 15.745L0.817501 9.51578C0.548303 9.24625 0.397098 8.88089 0.397098 8.49995C0.397098 8.11901 0.548303 7.75365 0.817501 7.48412L7.04667 1.25495C7.31917 1.00103 7.67959 0.862793 8.052 0.869364C8.42441 0.875935 8.77973 1.0268 9.04311 1.29017C9.30648 1.55355 9.45735 1.90887 9.46392 2.28128C9.47049 2.65369 9.33225 3.01411 9.07833 3.28662L5.3025 7.06245L16.6875 7.06245C17.0687 7.06245 17.4344 7.2139 17.704 7.48348C17.9735 7.75307 18.125 8.1187 18.125 8.49995Z" fill="black"/></svg></div>',nextArrow:'<div class="clients__arrow clients__arrow_next"><svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.875 8.49995C0.875 8.8812 1.02645 9.24683 1.29603 9.51642C1.56562 9.786 1.93125 9.93745 2.3125 9.93745L13.6975 9.93745L9.92167 13.7133C9.66775 13.9858 9.52951 14.3462 9.53608 14.7186C9.54265 15.091 9.69352 15.4464 9.95689 15.7097C10.2203 15.9731 10.5756 16.124 10.948 16.1305C11.3204 16.1371 11.6808 15.9989 11.9533 15.745L18.1825 9.51578C18.4517 9.24625 18.6029 8.88089 18.6029 8.49995C18.6029 8.11901 18.4517 7.75365 18.1825 7.48412L11.9533 1.25495C11.6808 1.00103 11.3204 0.862793 10.948 0.869364C10.5756 0.875935 10.2203 1.0268 9.95689 1.29017C9.69352 1.55355 9.54265 1.90887 9.53608 2.28128C9.52951 2.65369 9.66775 3.01411 9.92167 3.28662L13.6975 7.06245L2.3125 7.06245C1.93125 7.06245 1.56562 7.2139 1.29603 7.48348C1.02645 7.75307 0.875 8.1187 0.875 8.49995Z" fill="black"/></svg></div>',infinite:!0,slidesToShow:4,slidesToScroll:4,speed:800,responsive:[{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:750,settings:{slidesToShow:3,slidesToScroll:1,variableWidth:!0,arrows:!1}}]}),$(".popup-gallery__slider").slick({dots:!0,prevArrow:'<div class="popup-gallery__arrow popup-gallery__arrow_prev"><svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.125 8.49995C18.125 8.8812 17.9735 9.24683 17.704 9.51642C17.4344 9.786 17.0687 9.93745 16.6875 9.93745L5.3025 9.93745L9.07833 13.7133C9.33225 13.9858 9.47049 14.3462 9.46392 14.7186C9.45735 15.091 9.30648 15.4464 9.04311 15.7097C8.77973 15.9731 8.42441 16.124 8.052 16.1305C7.67959 16.1371 7.31917 15.9989 7.04667 15.745L0.817501 9.51578C0.548303 9.24625 0.397098 8.88089 0.397098 8.49995C0.397098 8.11901 0.548303 7.75365 0.817501 7.48412L7.04667 1.25495C7.31917 1.00103 7.67959 0.862793 8.052 0.869364C8.42441 0.875935 8.77973 1.0268 9.04311 1.29017C9.30648 1.55355 9.45735 1.90887 9.46392 2.28128C9.47049 2.65369 9.33225 3.01411 9.07833 3.28662L5.3025 7.06245L16.6875 7.06245C17.0687 7.06245 17.4344 7.2139 17.704 7.48348C17.9735 7.75307 18.125 8.1187 18.125 8.49995Z" fill="black"/></svg></div>',nextArrow:'<div class="popup-gallery__arrow popup-gallery__arrow_next"><svg width="19" height="17" viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.875 8.49995C0.875 8.8812 1.02645 9.24683 1.29603 9.51642C1.56562 9.786 1.93125 9.93745 2.3125 9.93745L13.6975 9.93745L9.92167 13.7133C9.66775 13.9858 9.52951 14.3462 9.53608 14.7186C9.54265 15.091 9.69352 15.4464 9.95689 15.7097C10.2203 15.9731 10.5756 16.124 10.948 16.1305C11.3204 16.1371 11.6808 15.9989 11.9533 15.745L18.1825 9.51578C18.4517 9.24625 18.6029 8.88089 18.6029 8.49995C18.6029 8.11901 18.4517 7.75365 18.1825 7.48412L11.9533 1.25495C11.6808 1.00103 11.3204 0.862793 10.948 0.869364C10.5756 0.875935 10.2203 1.0268 9.95689 1.29017C9.69352 1.55355 9.54265 1.90887 9.53608 2.28128C9.52951 2.65369 9.66775 3.01411 9.92167 3.28662L13.6975 7.06245L2.3125 7.06245C1.93125 7.06245 1.56562 7.2139 1.29603 7.48348C1.02645 7.75307 0.875 8.1187 0.875 8.49995Z" fill="black"/></svg></div>',infinite:!0,slidesToShow:2,slidesToScroll:2,speed:800,responsive:[{breakpoint:750,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$("select ").styler(),$(".checkbox__input").styler();const button2=document.querySelector("#form_btn_2"),picker=datepicker("#picker",{formatter:(e,t,o)=>{const l=t.toLocaleDateString();e.value=l},onSelect:(e,t)=>{t?button2.classList.add("_active"):button2.classList.remove("_active")},startDay:1,customDays:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],customMonths:["Январь ","Февраль ","Март ","Апрель","Май ","Июнь","Июль","Август","Сентябрь ","Октябрь ","Ноябрь","Декабрь "],minDate:new Date});jQuery.validator.addMethod("checkMask",(function(e,t){return/\+\d{1}\(\d{3}\)\d{3}-\d{4}/g.test(e)})),$(".input_phone").mask("+7(999)999-9999",{autoclear:!1});const main_validate=$("#main_form").validate({rules:{work_size:{required:!0,number:!0},date:{required:!0},phone:{required:!0,checkMask:!0},accept:{required:!0}},messages:{phone:"",accept:""}}),pop_validate=$("#pop_form").validate({rules:{phone:{required:!0,checkMask:!0},accept:{required:!0}},messages:{phone:"",accept:""}}),button1=document.querySelector("#form_btn_1"),input1=document.querySelector("#work_size");function inputChange(e,t,o){t.addEventListener(o,()=>{""!==t.value?e.classList.add("_active"):e.classList.remove("_active")})}inputChange(button1,input1,"input");const formPages=document.querySelectorAll(".main-form__page_hide"),formBtns=document.querySelectorAll(".main-form__btn");if(formPages)for(let e=0;e<formPages.length;e++){formPages[e].classList.add("fadeOut"),formPages[0].classList.remove("fadeOut"),formPages[0].classList.add("fadeIn")}if(formBtns)for(let e=0;e<formBtns.length-1;e++){let t=formBtns[e];t.addEventListener("click",(function(e){form_page_open(t.getAttribute("href").replace("#","")),e.preventDefault()}))}function form_page_open(e){let t=document.getElementById(e);for(let e=0;e<formPages.length;e++){let o=formPages[e];o.classList.remove("fadeIn"),o.classList.add("fadeOut"),t.classList.remove("fadeOut"),t.classList.add("fadeIn")}}const quiz_form=document.querySelector("#main_form");if(quiz_form){const e=quiz_form;async function formSend(t){t.preventDefault();let o=new FormData(e);e.classList.add("_sending");let l=0;const n=e.querySelectorAll("input");for(let e=0;e<n.length;e++){n[e].classList.contains("error")&&l++}if(0==l){if((await fetch("mailer/sendmail.php",{method:"POST",body:o})).ok){alert("Спасибо, скоро мы с вами свяжемся");for(let e=0;e<formPages.length;e++){formPages[e].classList.add("fadeOut"),formPages[0].classList.remove("fadeOut"),formPages[0].classList.add("fadeIn")}e.reset(),e.classList.remove("_sending")}else alert("Ошибка"),e.classList.remove("_sending")}else alert("Заполните обязательные поля")}e.addEventListener("submit",formSend)}const pop_form=document.querySelector("#pop_form");if(pop_form){const e=pop_form;async function formSend(t){t.preventDefault();let o=new FormData(e);e.classList.add("_sending");let l=0;const n=e.querySelectorAll("input");for(let e=0;e<n.length;e++){n[e].classList.contains("error")&&l++}if(0==l){if((await fetch("mailer/sendmail.php",{method:"POST",body:o})).ok){document.querySelector(".popup").classList.remove("_active"),document.querySelector(".menu__body._active")||body_lock_remove(500),history.pushState("","",window.location.href.split("#")[0]),e.reset(),alert("Спасибо, скоро мы с вами свяжемся"),e.classList.remove("_sending")}else alert("Ошибка"),e.classList.remove("_sending")}else alert("Заполните обязательные поля")}e.addEventListener("submit",formSend)}let quantityButtons=document.querySelectorAll(".quantity__button");if(quantityButtons.length>0)for(let e=0;e<quantityButtons.length;e++){const t=quantityButtons[e];t.addEventListener("click",(function(e){let o=parseInt(t.closest(".quantity").querySelector("input").value);t.classList.contains("quantity__button_plus")?o++:(o-=1,o<1&&(o=1)),t.closest(".quantity").querySelector("input").value=o}))}let scr_body=document.querySelector("body"),scr_blocks=document.querySelectorAll("._scr-sector"),scr_items=document.querySelectorAll("._scr-item"),scr_fix_block=document.querySelectorAll("._side-wrapper"),scr_min_height=750,scrolling=!0,scrolling_full=!0,scrollDirection=0;function scroll_scroll(){let e=pageYOffset,t=document.querySelector("header.header");if(e>10?t.classList.add("_scroll"):t.classList.remove("_scroll"),scr_blocks.length>0)for(let e=0;e<scr_blocks.length;e++){let t=scr_blocks[e],o=offset(t).top,l=t.offsetHeight;pageYOffset>o-window.innerHeight/1.5&&pageYOffset<o+l-window.innerHeight/5?t.classList.add("_scr-sector_active"):t.classList.contains("_scr-sector_active")&&t.classList.remove("_scr-sector_active"),pageYOffset>o-window.innerHeight/2&&pageYOffset<o+l-window.innerHeight/5?t.classList.contains("_scr-sector_current")||t.classList.add("_scr-sector_current"):t.classList.contains("_scr-sector_current")&&t.classList.remove("_scr-sector_current")}if(scr_items.length>0)for(let t=0;t<scr_items.length;t++){let o=scr_items[t],l=offset(o).top,n=o.offsetHeight,r=window.innerHeight-(window.innerHeight-n/3);window.innerHeight>n&&(r=window.innerHeight-n/3),e>l-r&&e<l+n?(o.classList.add("_active"),scroll_load_item(o)):o.classList.remove("_active"),e>l-window.innerHeight&&o.querySelectorAll("._lazy").length>0&&scroll_lazy(o)}scr_fix_block.length>0&&fix_block(scr_fix_block,e);let o=document.querySelector("._custom-scroll__line");if(o){let e=window.innerHeight,t=document.querySelector(".wrapper").offsetHeight,l=pageYOffset/(t-e)*100,n=o.offsetHeight;o.style.transform="translateY("+(e-n)/100*l+"px)"}scrollDirection=e<=0?0:e}function scroll_lazy(e){let t=e.querySelectorAll("*[data-src]");if(t.length>0)for(let e=0;e<t.length;e++){const o=t[e];o.classList.contains("_loaded")||(o.setAttribute("src",o.getAttribute("data-src")),o.classList.add("_loaded"))}let o=e.querySelectorAll("*[data-srcset]");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.classList.contains("_loaded")||(t.setAttribute("srcset",t.getAttribute("data-srcset")),t.classList.add("_loaded"))}}function scroll_load_item(e){if(e.classList.contains("_load-map")&&!e.classList.contains("_loaded-map")){document.getElementById("map")&&(e.classList.add("_loaded-map"),map())}}function full_scroll(e){let t=window.innerHeight;if(t>=scr_min_height)if(scrolling_full){let o,l=pageYOffset,n=document.querySelector("._scr-sector._scr-sector_current"),r=offset(n).top,i=n.offsetHeight,s=n.nextElementSibling,c=n.previousElementSibling;if(40==e.keyCode||34==e.keyCode||e.deltaX>0||e.deltaY<0)if(c){let e=c.offsetHeight;o=offset(c).top,i<=t?e>=t&&(o+=e-t,full_scroll_to_sector(o)):(enableScroll(),l<=r&&full_scroll_to_sector(o))}else full_scroll_pagestart();else(38==e.keyCode||33==e.keyCode||e.deltaX<0||e.deltaY>0)&&(s?(o=offset(s).top,i<=t?full_scroll_to_sector(o):(enableScroll(),l>=o-t&&full_scroll_to_sector(o))):full_scroll_pageend())}else disableScroll();else enableScroll()}function full_scroll_to_sector(e){disableScroll(),scrolling_full=!1,_goto(e,800);let t=500;-1!=navigator.appVersion.indexOf("Mac")&&(t=1e3),setTimeout((function(){scrolling_full=!0}),t)}function full_scroll_pagestart(){}function full_scroll_pageend(){}window.addEventListener("scroll",scroll_scroll),setTimeout((function(){scroll_scroll()}),100),scr_blocks.length>0&&!isMobile.any()&&(disableScroll(),window.addEventListener("wheel",full_scroll));let link=document.querySelectorAll("._goto-block");if(link){let e=[];for(let t=0;t<link.length;t++){let o=link[t],l=o.getAttribute("href").replace("#","");""==l||~e.indexOf(l)||e.push(l),o.addEventListener("click",(function(e){document.querySelector(".menu__body._active")&&(menu_close(),body_lock_remove(500));let t=o.getAttribute("href").replace("#","");_goto(document.querySelector("."+t),500,98),e.preventDefault()}))}window.addEventListener("scroll",(function(t){let o=document.querySelectorAll("._goto-block._active");if(o)for(let e=0;e<o.length;e++){o[e].classList.remove("_active")}for(let t=0;t<e.length;t++){let o=e[t],l=document.querySelector("."+o);if(l){let e=offset(l).top,t=l.offsetHeight;if(pageYOffset>e-window.innerHeight/3&&pageYOffset<e+t-window.innerHeight/3){let e=document.querySelectorAll('._goto-block[href="#'+o+'"]');for(let t=0;t<e.length;t++){e[t].classList.add("_active")}}}}}))}let goto_links=document.querySelectorAll("._goto");if(goto_links)for(let e=0;e<goto_links.length;e++){let t=goto_links[e];t.addEventListener("click",(function(e){let o=t.getAttribute("href").replace("#","");_goto(document.querySelector("."+o),300),e.preventDefault()}))}function _goto(e,t,o=0){let l={speedAsDuration:!0,speed:t,header:"",offset:o,easing:"easeOutQuad"};(new SmoothScroll).animateScroll(e,"",l)}function offset(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+l,left:t.left+o}}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),document.addEventListener("wheel",preventDefault,{passive:!1}),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),document.removeEventListener("wheel",preventDefault,{passive:!1}),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function preventDefault(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){}function fix_block(e,t){let o=parseInt(window.innerWidth),l=parseInt(window.innerHeight),n=parseInt(document.querySelector("header").offsetHeight)+15;for(let i=0;i<e.length;i++){const s=e[i],c=s.getAttribute("data-width"),a=s.querySelector("._side-block");c||(c=0),o>c&&(a.offsetHeight<l-(n+30)?(t>offset(s).top-(n+15)?a.style.cssText="position:fixed;bottom:auto;top:"+n+"px;width:"+s.offsetWidth+"px;left:"+offset(s).left+"px;":r(a),t>s.offsetHeight+offset(s).top-(a.offsetHeight+(n+15))&&(s.style.cssText="position:relative;",a.style.cssText="position:absolute;bottom:0;top:auto;left:0px;width:100%")):r(a))}function r(e){e.style.cssText="position:relative;bottom:auto;top:0px;left:0px;"}}function custom_scroll(e){scr_body.style.overflow="hidden";let t=window.innerHeight,o=document.querySelector("._custom-scroll__line"),l=document.querySelector(".wrapper").offsetHeight,n=Math.min(t,Math.round(t*(t/l)));if(l>t){if(!o){let e=document.createElement("div");o=document.createElement("div"),e.setAttribute("class","_custom-scroll"),o.setAttribute("class","_custom-scroll__line"),e.appendChild(o),scr_body.appendChild(e)}o.style.height=n+"px"}}isMobile.any();let new_pos=pageYOffset;function scroll_animate(e){let t=window.innerHeight,o=document.querySelector(".wrapper").offsetHeight;pageYOffset;if(40==e.keyCode||34==e.keyCode||e.deltaX>0||e.deltaY<0?new_pos-=100:(38==e.keyCode||33==e.keyCode||e.deltaX<0||e.deltaY>0)&&(new_pos+=100),new_pos>o-t&&(new_pos=o-t),new_pos<0&&(new_pos=0),scrolling){scrolling=!1,_goto(new_pos,1e3);let e=100;-1!=navigator.appVersion.indexOf("Mac")&&(e*=2),setTimeout((function(){scrolling=!0,_goto(new_pos,1e3)}),e)}}!function(){let e=[],t=document.querySelectorAll("[data-da]"),o=[],l=[];if(t.length>0){let c=0;for(let l=0;l<t.length;l++){const n=t[l],s=n.getAttribute("data-da");if(""!=s){const t=s.split(","),l=t[1]?t[1].trim():"last",a=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(n.setAttribute("data-da-index",c),e[c]={parent:n.parentNode,index:(r=n,i=void 0,i=Array.prototype.slice.call(r.parentNode.children),i.indexOf(r))},o[c]={element:n,destination:document.querySelector("."+t[0].trim()),place:l,breakpoint:a,type:d},c++)}}(n=o).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),n.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<o.length;e++){const t=o[e],n=t.breakpoint,r=t.type;l.push(window.matchMedia("("+r+"-width: "+n+"px)")),l[e].addListener(s)}}var n,r,i;function s(e){for(let e=0;e<o.length;e++){const t=o[e],n=t.element,r=t.destination,i=t.place,s="_dynamic_adapt_"+t.breakpoint;if(l[e].matches){if(!n.classList.contains(s)){let e=a(r)[i];"first"===i?e=a(r)[0]:"last"===i&&(e=a(r)[a(r).length]),r.insertBefore(n,r.children[e]),n.classList.add(s)}}else n.classList.contains(s)&&(c(n),n.classList.remove(s))}}function c(t){const o=t.getAttribute("data-da-index"),l=e[o],n=l.parent,r=l.index,i=a(n,!0)[r];n.insertBefore(t,n.children[i])}function a(e,t){const o=e.children,l=[];for(let e=0;e<o.length;e++){const n=o[e];(t||null==n.getAttribute("data-da"))&&l.push(e)}return l}s()}();